<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Unblocked Games Launcher</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#1a1a1a;color:#fff;overflow:hidden}
h1{text-align:center;padding:10px}
.grid{display:flex;flex-wrap:wrap;gap:10px;padding:20px}
.game{padding:10px 15px;background:#333;border-radius:6px;cursor:pointer;width:180px;text-align:center}
.window{position:absolute;top:50px;left:50px;width:70%;height:70%;background:#222;border:2px solid #555;display:flex;flex-direction:column;z-index:10}
.titlebar{background:#444;padding:5px;display:flex;justify-content:space-between;align-items:center;cursor:grab}
.titlebar button{margin-left:5px;cursor:pointer;border:none;background:#666;color:#fff;padding:2px 8px;border-radius:4px}
iframe{flex:1;border:none}
.taskbar{position:fixed;bottom:0;left:0;width:100%;background:#111;padding:5px;display:flex;gap:5px}
.taskbtn{padding:5px 10px;background:#333;border-radius:4px;cursor:pointer}
.taskbtn.active{background:#555}
</style>
</head>
<body>
<h1>ðŸŽ® Unblocked Games Launcher</h1>
<div class="grid" id="gameGrid"></div>
<div class="taskbar" id="taskbar"></div>

<script>
const games=[
  {name:"2048",url:"https://bigdog234.github.io/HTML-Games-V2/2048/"},
  {name:"1v1.lol",url:"https://craep0.github.io/1v1-lol-online.github.io/file/#"},
  {name:"Basketball Stars",url:"https://bigdog234.github.io/HTML-Games-V2/basketball-stars/"},
  {name:"Cookie Clicker",url:"https://bigdog234.github.io/HTML-Games-V2/cookie-clicker/"},
  {name:"Crossy Road",url:"https://bigdog234.github.io/HTML-Games-V2/crossyroad/"}
];

const grid=document.getElementById("gameGrid");
const taskbar=document.getElementById("taskbar");

let zIndexCounter=100;
let windowIdCounter=0;

// Create game buttons
games.forEach(game=>{
  const div=document.createElement("div");
  div.className="game";
  div.textContent=game.name;
  div.onclick=()=>openWindow(game);
  grid.appendChild(div);
});

function openWindow(game){
  const id="win"+(++windowIdCounter);

  const win=document.createElement("div");
  win.className="window";
  win.dataset.id=id;
  win.style.top=Math.random()*200+50+"px";
  win.style.left=Math.random()*200+50+"px";
  win.style.zIndex=++zIndexCounter;

  win.innerHTML=`
    <div class="titlebar">
      <span>${game.name}</span>
      <div>
        <button onclick="minimizeWindow('${id}')">âž–</button>
        <button onclick="fullscreenWindow('${id}')">â›¶</button>
        <button onclick="closeWindow('${id}')">âœ•</button>
      </div>
    </div>
    <iframe src="${game.url}"></iframe>
  `;
  document.body.appendChild(win);

  // Taskbar button
  const taskBtn=document.createElement("div");
  taskBtn.className="taskbtn active";
  taskBtn.innerText=game.name;
  taskBtn.dataset.id=id;
  taskBtn.onclick=()=>focusWindow(id);
  taskbar.appendChild(taskBtn);

  // Focus on click
  win.addEventListener("mousedown",()=>focusWindow(id));

  // Dragging
  const title=win.querySelector(".titlebar");
  let isDragging=false,offsetX=0,offsetY=0;
  title.addEventListener("mousedown",(e)=>{
    isDragging=true;
    const rect=win.getBoundingClientRect();
    offsetX=e.clientX-rect.left;
    offsetY=e.clientY-rect.top;
    title.style.cursor="grabbing";
  });
  document.addEventListener("mousemove",(e)=>{
    if(!isDragging) return;
    win.style.left=(e.clientX-offsetX)+"px";
    win.style.top=(e.clientY-offsetY)+"px";
  });
  document.addEventListener("mouseup",()=>{isDragging=false;title.style.cursor="grab";});

  focusWindow(id);
}

function focusWindow(id){
  const win=document.querySelector(`.window[data-id='${id}']`);
  if(!win) return;
  win.style.display="flex";
  win.style.zIndex=++zIndexCounter;

  document.querySelectorAll(".taskbtn").forEach(btn=>btn.classList.remove("active"));
  const taskBtn=document.querySelector(`.taskbtn[data-id='${id}']`);
  if(taskBtn) taskBtn.classList.add("active");
}

function closeWindow(id){
  const win=document.querySelector(`.window[data-id='${id}']`);
  const taskBtn=document.querySelector(`.taskbtn[data-id='${id}']`);
  if(win) win.remove();
  if(taskBtn) taskBtn.remove();
}

function minimizeWindow(id){
  const win=document.querySelector(`.window[data-id='${id}']`);
  if(win) win.style.display="none";
}

function fullscreenWindow(id){
  const win=document.querySelector(`.window[data-id='${id}']`);
  if(win) win.requestFullscreen();
}
</script>
</body>
</html>
